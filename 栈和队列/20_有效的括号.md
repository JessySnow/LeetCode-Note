# LeetCode20:有效的括号

### 题意理解: 给定一个字符串，其中只包含了三种括号，分别是 "()"、"[]"、"{}"，要求判断括号的匹配情况，如果括号是不能够嵌套的那么这题就非常好解决了，因为只有如下的三种情况，直接进行字符串遍历即可

```
()
[]
{}
```

### 但是题目是存在嵌套的，所以得想办法将嵌套的情况简化成上面的三种基本情况，否则判断起来会及其困难，这里考虑使用栈来做括号匹配，如下的输入序列，是一个三重嵌套的括号，我们对其进行判断时，可以利用栈将括号匹配问题简化为上述的三种情况

```
([{}])
```
### 每次遇到 '('、'['、'{'，我们不进行判断，因为这些符号可能是嵌套的开始，和前面的符号不匹配也是可以的，每当遇到 ')'、']'、'}'这三个时，我们就对栈顶元素进行一个检查，因为嵌套的最内层必须是匹配的，所以栈顶符号和当前的遇到的元素肯定能够合成一个完整的括号，如果可以合成一个完整的括号，我们将栈顶元素弹出，此时相当于是将最内层的括号删除了，此时栈顶的元素变成了外层的括号，然后继续上面的过程，我们就通过栈完美的解决了嵌套的匹配问题

```java
class Solution {
    public boolean isValid(String s) {
        Stack<Character> stack = new Stack<>();
        for(char ch : s.toCharArray()){
            switch(ch){
                case '(':
                    stack.push(')');
                    break;
                case '[':
                    stack.push(']');
                    break;
                case '{':
                    stack.push('}');
                    break;
                default:
                    // stack 判空是为了防止出现没有左括号，直接出现右括号的情况
                    if(stack.empty() || stack.pop() != ch) return false;
            }
        }
        
        // 防止出现输入序列中只有左括号的情况
        return stack.empty();
    }
}
```

***PS: 为了简化判断流程，在遇到三种类型额左括号时，都将右括号压入到栈中，这样到时候判断左右括号匹配时只需要进行字符相等判断即可***